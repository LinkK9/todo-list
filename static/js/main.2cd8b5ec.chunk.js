(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{120:function(t,e,a){t.exports={todoListContainer:"TodoList_todoListContainer__vxutJ",btn:"TodoList_btn__aA5iJ"}},121:function(t,e,a){t.exports={taskInputContainer:"Home_taskInputContainer__31hJq",taskListContainer:"Home_taskListContainer__BkkHP"}},178:function(t,e,a){},297:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),c=a(18),r=a.n(c),s=a(19),i=(a(178),a(71)),u=a.n(i),d=(a(122),a(51)),l=a(65),p=a.n(l),j=a(301),b=a(17),h=a(39),O=a.n(h),f=a(57),k=a(58),v=a.n(k),m="https://linhtrinhviet.herokuapp.com",g={GetTodoList:function(){return v.a.get(m+"/todo")},AddTodo:function(t){var e=(new Date).getTime();return v.a.post(m+"/todo",{taskName:t,createdDate:e,isCompleted:!1,isFavorite:!1})},ChooseFavorite:function(t,e){return v.a.patch(m+"/todo/".concat(t),{isFavorite:e})},ChangeStatusComplete:function(t,e){return v.a.patch(m+"/todo/".concat(t),{isCompleted:e})},DeleteTask:function(t){return v.a.delete(m+"/todo/".concat(t))},EditTask:function(t,e){return v.a.patch(m+"/todo/".concat(t),{taskName:e})}},x="Change_Input_Value",_="Changed_Status_Complete",C="Choose_Favorite_Task",L="Login_Succsess",y="Logout_Succsess",T="Begin_Add_Todo",S="Add_Todo_Success",w="Get_Todo_Success",I="Sync_Error",N="Clear_Screen",F="Delete_Task",D="Edit_Task",E=function(){return function(){var t=Object(f.a)(O.a.mark((function t(e,a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:T}),t.next=4,g.GetTodoList();case 4:n=t.sent,console.log("data fetch ve:",n.data),e({type:w,payload:{taskList:n.data}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:I});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},B=a(52),A=a(6);var H=function(){var t=Object(n.useState)(""),e=Object(d.a)(t,2),a=e[0],o=e[1],c=Object(n.useState)(""),r=Object(d.a)(c,2),i=r[0],u=r[1],l=Object(b.g)(),h=Object(s.b)();return Object(s.c)((function(t){return t.authState.isLoggedIn}))?Object(A.jsx)(b.a,{to:"/home"}):Object(A.jsxs)("div",{children:[Object(A.jsx)(p.a,{children:"Login"}),Object(A.jsx)(j.a,{placeholder:"User name: Nh\u1eadp t\xean b\u1ea5t k\u1ef3",value:a,onChange:function(t){return o(t.target.value)}}),Object(A.jsx)(j.a,{placeholder:"password: Nh\u1eadp b\u1ea5t k\u1ef3",type:"password",value:i,onChange:function(t){return u(t.target.value)}}),Object(A.jsx)("div",{style:{marginTop:16},children:Object(A.jsx)(B.a,{type:"primary",onClick:function(){a&&i?(h({type:L}),l.push("/")):alert("Sai ten tai khoan mat khau")},children:"\u0110\u0103ng nh\u1eadp"})})]})},P=a(85),G=a(12);function J(t){return Object(s.c)((function(t){return t.authState.isLoggedIn}))?Object(A.jsx)(b.b,Object(G.a)(Object(G.a)({},t),{},{children:t.children})):Object(A.jsx)(b.a,{to:"/login"})}var R=a(103),M=a.n(R),V=a(302),q=function(){var t=Object(s.b)(),e=Object(b.g)(),a=function(){t({type:y}),e.push("/login")},o=Object(n.useState)(!1),c=Object(d.a)(o,2),r=c[0],i=c[1];return Object(A.jsxs)("div",{className:u.a.appHeader,children:[Object(A.jsx)(p.a,{className:u.a.header,children:"Todo-List!"}),Object(A.jsx)(B.a,{danger:!0,className:u.a.btn,onClick:function(){i(!0)},children:"Logout"}),Object(A.jsx)(V.a,{visible:r,onCancel:function(){i(!1)},onOk:function(){a()},okButtonProps:{danger:!0},okText:"Logout",children:Object(A.jsx)("h2",{children:"B\u1ea1n c\xf3 mu\u1ed1n logout?"})})]})};var z=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.todoState.newTaskName}));return Object(A.jsx)(j.a,{placeholder:"Nh\u1eadp t\xean task r\u1ed3i \u1ea5n enter",value:e,onChange:function(e){var a;t((a=e.target.value,{type:x,payload:{newInputValue:a}}))},onPressEnter:function(){""!==e&&t(function(t){return function(){var e=Object(f.a)(O.a.mark((function e(a,n){var o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:T}),e.next=4,g.AddTodo(t);case 4:return e.next=6,g.GetTodoList();case 6:o=e.sent,a({type:S,payload:{newTaskName:t,id:o.data[o.data.length-1].id}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:I});case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}}),e,null,[[0,10,13,15]])})));return function(t,a){return e.apply(this,arguments)}}()}(e))}})},U=a(303),Q=a(83),W=a.n(Q),K=a(168),X=j.a.TextArea;var Y=function(t){var e=t.taskItem,a=t.onChooseFavoriteTask,o=t.onCompletionStageChanged,c=Object(s.b)(),r=Object(n.useState)(e.taskName),i=Object(d.a)(r,2),u=i[0],l=i[1],p=Object(n.useState)(!1),j=Object(d.a)(p,2),b=j[0],h=j[1],k={on:{color:"orange",float:"right",position:"absolute",top:"50%",right:"10px",transform:"translate(0, -50%)"},off:{color:"gainsboro",float:"right",position:"absolute",top:"50%",right:"10px",transform:"translate(0, -50%)"}};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{onClick:function(){h(!0)},className:W.a.todoContainer,children:[Object(A.jsx)(U.a,{id:e.id,className:W.a.tickBox,onChange:function(t){h(!1),o(e.id,!e.isCompleted)},checked:e.isCompleted}),Object(A.jsx)("div",{className:e.isCompleted?W.a.completed:W.a.notCompleted,children:e.taskName}),e.isCompleted?null:Object(A.jsx)(K.a,{onClick:function(t){t.stopPropagation(),a(e.id,!e.isFavorite)},style:e.isFavorite?k.on:k.off})]}),Object(A.jsx)(V.a,{title:"Edit Task",visible:b,onCancel:function(){h(!1)},footer:[Object(A.jsx)(B.a,{type:"primary",block:!0,danger:!0,onClick:function(){var t;c((t=e.id,function(){var e=Object(f.a)(O.a.mark((function e(a,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.DeleteTask(t);case 3:a({type:F,payload:{id:t}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:"Delete Task"})],children:Object(A.jsx)(X,{onChange:function(t){l(t.target.value)},value:u,onPressEnter:function(){var t,a;c((t=e.id,a=u,function(){var e=Object(f.a)(O.a.mark((function e(n,o){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.EditTask(t,a);case 3:n({type:D,payload:{id:t,value:a}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}())),h(!1)},autoSize:{minRows:1,maxRows:6},allowClear:!0})})]})},Z=a(120),$=a.n(Z),tt=a(300);var et=function(t){var e=t.taskList,a=Object(s.b)(),n=Object(s.c)((function(t){return t.todoState.isLoading})),o=Object(s.c)((function(t){return t.todoState.isError})),c=function(t,e){a(function(t,e){return function(){var a=Object(f.a)(O.a.mark((function a(n,o){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.ChangeStatusComplete(t,e);case 3:n({type:_,payload:{id:t,value:e}}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(t,e){return a.apply(this,arguments)}}()}(t,e))},r=function(t,e){a(function(t,e){return function(){var a=Object(f.a)(O.a.mark((function a(n,o){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.ChooseFavorite(t,e);case 3:n({type:C,payload:{id:t,value:e}}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(t,e){return a.apply(this,arguments)}}()}(t,e))};return Object(A.jsxs)("div",{children:[Object(A.jsx)(p.a,{level:3,children:t.title}),"Danh s\xe1ch task"===t.title&&n&&Object(A.jsx)(tt.a,{tip:"Loading..."}),"Danh s\xe1ch task"===t.title&&o&&Object(A.jsx)(B.a,{className:$.a.btn,onClick:function(){return a(E())},children:"Try again!"}),Object(A.jsx)("div",{className:$.a.todoListContainer,children:e.map((function(t){return Object(A.jsx)(Y,{taskItem:t,onChooseFavoriteTask:r,onCompletionStageChanged:c},t.id)}))})]})},at=a(121),nt=a.n(at);function ot(){var t=Object(s.c)((function(t){return t.todoState.taskList})),e=M.a.partition(t,(function(t){return t.isCompleted})),a=M.a.orderBy(e[0],["createdDate"],["desc"]),o=Object(s.c)((function(t){return t.todoState.newTaskName})),c=M.a.orderBy(e[1],["isFavorite","createdDate"],["desc","desc"]);o&&(c=c.filter((function(t){return t.taskName.includes(o)})));var r=Object(s.b)();return Object(n.useEffect)((function(){r({type:N}),r(E())}),[]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(q,{}),Object(A.jsx)("div",{className:nt.a.taskInputContainer,children:Object(A.jsx)(z,{})}),Object(A.jsxs)("section",{className:nt.a.taskListContainer,children:[Object(A.jsx)(et,{taskList:c,title:"Danh s\xe1ch task"}),Object(A.jsx)(et,{taskList:a,title:"Danh s\xe1ch task ho\xe0n th\xe0nh"})]})]})}var ct=function(){return Object(A.jsx)("div",{className:u.a.app,children:Object(A.jsx)(P.a,{children:Object(A.jsxs)(b.d,{children:[Object(A.jsx)(J,{path:"/home",children:Object(A.jsx)(ot,{})}),Object(A.jsx)(b.b,{path:"/login",children:Object(A.jsx)(H,{})}),Object(A.jsx)(b.b,{exact:!0,path:"/",children:Object(A.jsx)(b.a,{to:"/home"})})]})})})},rt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,304)).then((function(e){var a=e.getCLS,n=e.getFID,o=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),n(t),o(t),c(t),r(t)}))},st=a(44),it=a(164),ut=a(73),dt=Object(st.combineReducers)({authState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:localStorage.getItem("isLoggedIn")},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:return localStorage.setItem("isLoggedIn",!0),Object(G.a)(Object(G.a)({},t),{},{isLoggedIn:!0});case y:return localStorage.removeItem("isLoggedIn"),Object(G.a)(Object(G.a)({},t),{},{isLoggedIn:!1});default:return t}},todoState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{taskList:[],newTaskName:"",isLoading:!0,isError:!1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:var a=t.taskList.findIndex((function(t){return t.id===e.payload.id}));return Object(G.a)(Object(G.a)({},t),{},{taskList:[].concat(Object(ut.a)(t.taskList.filter((function(t){return t.id!==e.payload.id}))),[Object(G.a)(Object(G.a)({},t.taskList[a]),{},{taskName:e.payload.value})])});case F:return Object(G.a)(Object(G.a)({},t),{},{taskList:Object(ut.a)(t.taskList.filter((function(t){return t.id!==e.payload.id})))});case N:return Object(G.a)(Object(G.a)({},t),{},{taskList:[]});case I:return Object(G.a)(Object(G.a)({},t),{},{isLoading:!1,isError:!0});case w:var n=e.payload.taskList;return Object(G.a)(Object(G.a)({},t),{},{taskList:[].concat(Object(ut.a)(t.taskList),Object(ut.a)(n)),isLoading:!1});case T:return Object(G.a)(Object(G.a)({},t),{},{isLoading:!0,isError:!1});case S:var o={id:e.payload.id,taskName:e.payload.newTaskName,isCompleted:!1,isFavorite:!1,createdDate:(new Date).getTime(),completedDate:""};return Object(G.a)(Object(G.a)({},t),{},{isLoading:!1,isError:!1,newTaskName:"",taskList:[].concat(Object(ut.a)(t.taskList),[o])});case x:return Object(G.a)(Object(G.a)({},t),{},{newTaskName:e.payload.newInputValue});case _:var c=t.taskList.map((function(t){return t.id===e.payload.id?Object(G.a)(Object(G.a)({},t),{},{isCompleted:!t.isCompleted}):t}));return console.log(c),Object(G.a)(Object(G.a)({},t),{},{taskList:c});case C:var r=t.taskList.map((function(t){return t.id===e.payload.id?Object(G.a)(Object(G.a)({},t),{},{isFavorite:!t.isFavorite}):t}));return Object(G.a)(Object(G.a)({},t),{},{taskList:r});default:return t}}}),lt=a(165),pt=Object(st.createStore)(dt,Object(lt.composeWithDevTools)(Object(st.applyMiddleware)(it.a)));r.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(s.a,{store:pt,children:Object(A.jsx)(ct,{})})}),document.getElementById("root")),rt()},71:function(t,e,a){t.exports={app:"App_app__2o1wF",header:"App_header__312TE",appHeader:"App_appHeader__3x9BR"}},83:function(t,e,a){t.exports={todoListContainer:"TaskItem_todoListContainer__-Usb_",todoContainer:"TaskItem_todoContainer__3F5qh",flexCenter:"TaskItem_flexCenter__DJLsg",tickBox:"TaskItem_tickBox__3Q-Rw",completed:"TaskItem_completed__lHSvM",notCompleted:"TaskItem_notCompleted__36eN3",starOn:"TaskItem_starOn__3J_GI",starOff:"TaskItem_starOff__3kP4z",createdDate:"TaskItem_createdDate__2S8Gt",textRed:"TaskItem_textRed__1I_HM",textSuccess:"TaskItem_textSuccess__2sGO_"}}},[[297,1,2]]]);
//# sourceMappingURL=main.2cd8b5ec.chunk.js.map